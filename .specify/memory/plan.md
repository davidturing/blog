# 实施计划 (Implementation Plan): 数据治理知识库重构

**特性分支**: `data-gov-kb-refactor` | **日期**: 2026-02-06 | **规范**: [.specify/memory/spec.md](./spec.md)
**输入**: 基于新章程 (Constitution v1.1.0) 和规范文件。

## 摘要 (Summary)

本计划旨在将 `/数据治理` 目录下的现有知识库重构为符合“扁平化、结构化、英文命名”的新标准。核心工作包括目录结构的扁平化处理（移除第2/3层文件夹）、中文文件名的英文/拼音化重命名，以及 `index.md` 索引文件的标准化生成。

## 技术上下文 (Technical Context)

**环境**: Markdown + Git
**依赖**: 无（纯静态文档）
**规模**: 10 个一级章节，约 50+ 个 Markdown 文件
**关键挑战**: 
- 现有的第2层目录需要展开到第1层目录下。
- 中文文件名需要转换为英文/拼音，同时保持引用的正确性（需要更新 index.md）。
- 确保重构过程中不丢失任何内容。

## 章程检查 (Constitution Check)

*GATE: 必须通过方可进入执行阶段*

1.  **最大 3 层结构** (Principle V):
    - [x] 当前计划是将所有深层嵌套文件移动到一级目录下，消除第 2/3 层目录，符合扁平化原则。
2.  **英文命名规范** (Constraint):
    - [x] 计划包含重命名步骤，将 `1.1-数据治理定义.md` 重命名为 `1.1-data_governance_definition.md` 等格式。
3.  **图文并茂** (Principle II):
    - [ ] 此计划主要关注结构重构。**注意**：重构后需要单独检查内容的配图情况（作为后续优化任务）。

## 项目结构 (Project Structure)

### 目标结构示意

```text
/Users/david/david_project/智能体/数据治理/
├── 01.数据治理核心概念与理论框架/        # 一级目录 (保留中文名以提升可读性，或根据 Spec FR-006 讨论? Spec 仅限制 md 文件名)
│   ├── index.md                        # 导航页
│   ├── 1.1-definition_and_boundary.md  # 原 1.1-数据治理的定义...
│   ├── 1.2-core_value.md               # 原 1.2-数据治理核心价值...
│   └── images/                         # 资源目录
├── 02.数据治理核心知识领域详解/
│   ├── index.md
│   └── ...
└── index.md                            # 总索引
```

**结构决策**: 遵循 Spec FR-003，仅第 1 层保留目录，内容文件全部平铺。

## 实施阶段 (Phases)

### Phase 0: 准备与映射 (Preparation)

1.  **文件映射表生成**:
    - 遍历所有现有文件。
    - 为每个中文文件名生成对应的英文/拼音推荐名。
    - 输出 `rename_mapping.json` 供人工或自动化脚本确认。

### Phase 1: 结构重构 (Refactoring)

1.  **扁平化移动**:
    - 将 `01.xxx/1.1-xxx/content.md` 移动到 `01.xxx/1.1-content_renamed.md`。
    - 删除空的子目录。

2.  **文件重命名**:
    - 执行重命名操作。

3.  **索引更新**:
    - 重新生成每个一级目录下的 `index.md`，更新链接指向新的英文文件名。
    - 更新根目录的 `index.md`。

### Phase 2: 验证 (Verification)

1.  **链接检查**: 检查所有 `index.md` 中的链接是否有效。
2.  **规范检查**: 运行脚本检查是否存在非法字符或深层目录。

## 复杂度追踪 (Complexity Tracking)

| 违规项 | 理由 | 拒绝的简单方案 |
|--------|------|----------------|
| 无 | 本计划旨在降低复杂度（扁平化） | N/A |

# Moltbot 最佳实践指南

Moltbot 是一个强大的智能代理工具，能够帮助你自动化处理日常任务、管理代码仓库以及执行复杂的系统操作。为了帮助你更高效、安全地使用 Moltbot，我们整理了这份最佳实践指南。

## 1. 核心原则

在开始使用之前，请记住 Moltbot 的三个核心设计原则：
- **安全性 (Security)**：永远不要在未经确认的情况下让 Bot 执行破坏性操作（如 `rm -rf`）。
- **简洁性 (Simplicity)**：保持指令清晰明确，避免模糊的自然语言描述。
- **可追溯性 (Auditability)**：善用日志功能，记录 Bot 的每一次操作。

## 2. 配置与环境

### 2.1 环境变量管理
不要将 API Key 硬编码在脚本中。建议使用 `.env` 文件或系统环境变量来管理敏感信息。

```bash
export MOLTBOT_API_KEY="sk-..."
export GITHUB_TOKEN="ghp_..."
```

### 2.2 工作区隔离
为 Moltbot 指定一个专属的工作目录（Workspace），避免它意外修改你系统中的其他重要文件。建议在 `config.yaml` 中设置 `workspace_root`。

## 3. 提示词工程 (Prompt Engineering)

Moltbot 的执行效果很大程度上取决于你如何给它下达指令。

- **坏的指令**：“帮我修一下代码。”
- **好的指令**：“分析 `src/main.py` 中的 `connect_db` 函数，修复连接超时的异常处理逻辑，并添加重试机制。”

**技巧**：
- **提供上下文**：明确告诉 Bot 当前的任务背景。
- **分步骤**：如果任务复杂，拆分成多个子任务让 Bot 逐步执行。

## 4. 常用场景

### 4.1 代码审查 (Code Review)
你可以让 Moltbot 读取你的 Pull Request 变更，并对其进行初步审查，检查潜在的 Bug 或风格问题。

```bash
moltbot review --pr 123
```

### 4.2 自动化运维
利用 Moltbot 的 Shell 执行能力，可以编写定时任务来巡检服务器状态。

## 5. 故障排查

如果 Moltbot 行为异常：
1.  **检查日志**：查看 `logs/moltbot.log` 获取详细报错。
2.  **重置状态**：有时候上下文过长会导致幻觉，尝试重启会话或清理缓存。
3.  **权限验证**：确保 Moltbot 运行的账号拥有足够的读写权限。

---

*希望这份指南能帮你更好地驾驭 Moltbot！如有更多问题，欢迎提交 Issue。*
